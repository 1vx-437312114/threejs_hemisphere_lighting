<!DOCTYPE html><html lang=en><title>three.js webgl - hemisphere lighting</title><meta charset=utf-8><meta content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1"name=viewport><link href=css/pace_corner_indicator.css rel=stylesheet><style>body{background-color:#fff;color:#111;margin:0;overflow:hidden;font-family:Monospace;font-size:13px}#info{position:absolute;top:0;width:100%;padding:5px;text-align:center}a{color:#0080ff;text-decoration:none}a:hover{color:red}strong{color:red}</style><div id=container></div><div id=info><a href=http://threejs.org target=_blank>three.js</a> - webgl hemisphere lighting demo by <font color=red><b>1vx 437312114</b><br></div><script src=js/pace.min.js></script><script src=js/three.min.js></script><script src=js/Detector.js></script><script src=js/PLYLoader.js></script><script id=vertexShader type=x-shader/x-vertex>varying vec3 vWorldPosition;
			void main() {
				vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
				vWorldPosition = worldPosition.xyz;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}</script><script id=fragmentShader type=x-shader/x-fragment>uniform vec3 topColor;
			uniform vec3 bottomColor;
			uniform float offset;
			uniform float exponent;
			varying vec3 vWorldPosition;
			void main() {
				float h = normalize( vWorldPosition + offset ).y;
				gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );
			}</script><script>function init(){var e=document.getElementById("container");camera=new THREE.PerspectiveCamera(25,window.innerWidth/window.innerHeight,1,2e3),camera.position.set(0,0,100),scene=new THREE.Scene,scene.fog=new THREE.Fog(16777215,1,5e3),scene.fog.color.setHSL(.6,0,1),hemiLight=new THREE.HemisphereLight(16777215,16777215,.6),hemiLight.color.setHSL(.6,1,.6),hemiLight.groundColor.setHSL(.095,1,.75),hemiLight.position.set(0,500,0),scene.add(hemiLight),dirLight=new THREE.DirectionalLight(16777215,1),dirLight.color.setHSL(.1,1,.95),dirLight.position.set(-1,1.75,1),dirLight.position.multiplyScalar(50),scene.add(dirLight),dirLight.castShadow=!0,dirLight.shadow.mapSize.width=2048,dirLight.shadow.mapSize.height=2048;dirLight.shadow.camera.left=-50,dirLight.shadow.camera.right=50,dirLight.shadow.camera.top=50,dirLight.shadow.camera.bottom=-50,dirLight.shadow.camera.far=3500,dirLight.shadow.bias=-1e-4;var a=new THREE.TextureLoader,t=a.load("textures/sandtexture_DIFF.jpg");t.wrapS=THREE.RepeatWrapping,t.wrapT=THREE.RepeatWrapping,t.anisotropy=16,t.repeat.multiplyScalar(32);var r=a.load("textures/sandtexture_DISP.jpg");r.wrapS=THREE.RepeatWrapping,r.wrapT=THREE.RepeatWrapping,r.repeat.multiplyScalar(32);var n=a.load("textures/sandtexture_NRM.jpg");n.wrapS=THREE.RepeatWrapping,n.wrapT=THREE.RepeatWrapping,n.repeat.multiplyScalar(32);var o=a.load("textures/sandtexture_SPEC.jpg");o.wrapS=THREE.RepeatWrapping,o.wrapT=THREE.RepeatWrapping,o.repeat.multiplyScalar(32);var i=new THREE.PlaneBufferGeometry(3e3,3e3),d=new THREE.MeshPhongMaterial({color:16777215,specular:1118481,map:t,bumpMap:r,normalMap:n,specular:16777215,specularMap:o,shininess:5.5,side:THREE.DoubleSide}),s=new THREE.Mesh(i,d);s.rotation.x=-Math.PI/2,s.position.y=-27,s.receiveShadow=!0,scene.add(s);var h=document.getElementById("vertexShader").textContent,c=document.getElementById("fragmentShader").textContent,l={topColor:{value:new THREE.Color(30719)},bottomColor:{value:new THREE.Color(16777215)},offset:{value:33},exponent:{value:.6}};l.topColor.value.copy(hemiLight.color),scene.fog.color.copy(l.bottomColor.value);var w=new THREE.SphereGeometry(1500,32,15),p=new THREE.ShaderMaterial({vertexShader:h,fragmentShader:c,uniforms:l,side:THREE.BackSide}),E=new THREE.Mesh(w,p);scene.add(E);var g=new THREE.PLYLoader;g.load("models/temple_with_statue.ply",function(e){var a=new THREE.MeshPhongMaterial({color:16777215,specular:16777215,vertexColors:THREE.VertexColors,shading:THREE.SmoothShading}),t=new THREE.Mesh(e,a);t.castShadow=!0,t.receiveShadow=!0,scene.add(t)}),g.load("models/column.ply",function(e){var a=new THREE.MeshPhongMaterial({color:16777215,specular:16777215,vertexColors:THREE.VertexColors,shading:THREE.SmoothShading}),t=new THREE.Mesh(e,a);t.castShadow=!0,t.receiveShadow=!0,scene.add(t);var r=new THREE.Mesh(e,a);r.castShadow=!0,r.receiveShadow=!0,r.position.x+=22.5,scene.add(r);var n=new THREE.Mesh(e,a);n.castShadow=!0,n.receiveShadow=!0,n.position.x-=31,n.position.z+=29.5,scene.add(n);var o=new THREE.Mesh(e,a);o.castShadow=!0,o.receiveShadow=!0,o.position.x+=52,o.position.z+=31,scene.add(o)}),renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setClearColor(scene.fog.color),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),e.appendChild(renderer.domElement),renderer.gammaInput=!0,renderer.gammaOutput=!0,renderer.shadowMap.enabled=!0,renderer.shadowMap.renderReverseSided=!1,window.addEventListener("resize",onWindowResize,!1),document.addEventListener("mousemove",onDocumentMouseMove,!1)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(e){mouseX=1*(e.clientX-windowHalfX),mouseY=1*(e.clientY-windowHalfY)}function animate(){requestAnimationFrame(animate),render()}function render(){clock.getDelta();targetX=.06*mouseX,targetY=.06*mouseY,angle+=.075*(targetX-angle),height+=.075*(targetY-height);var e=175*-Math.sin(.08*angle),a=175*Math.cos(.08*angle),t=1.5*height+0;t<=-26&&(t=-26),camera.position.set(e,t,a),camera.lookAt(target),renderer.render(scene,camera)}Detector.webgl||Detector.addGetWebGLMessage();var camera,scene,renderer,dirLight,hemiLight,mixers=[],stats,mouseX=0,mouseY=0,targetX=0,targetY=0,angle=0,height=0,target=new THREE.Vector3(0,0,0),windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,clock=new THREE.Clock;init(),animate()</script>